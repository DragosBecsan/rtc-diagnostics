{"version":3,"file":"constants.js","sourceRoot":"","sources":["../../lib/constants.ts"],"names":[],"mappings":";;AAAA,sCAAwC;AAExC;;;;GAIG;AACU,QAAA,cAAc,GAAG,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAE3C;;;GAGG;AACU,QAAA,kBAAkB,GAAG,GAAG,CAAC;AAEtC;;;;GAIG;AACU,QAAA,qBAAqB,GAAG,GAAG,CAAC;AAEzC;;;;GAIG;AACU,QAAA,wBAAwB,GAAG,CAAC,CAAC;AAE1C;;;;GAIG;AACU,QAAA,sBAAsB,GAAG,CAAC,CAAC;AAExC;;;GAGG;AACU,QAAA,mBAAmB,GAAG,IAAI,GAAG,0BAAkB,CAAC;AAE7D;;;GAGG;AACU,QAAA,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAE1D;;;GAGG;AACU,QAAA,kBAAkB,GAC7B,+EAA6E,IAAI,CAAC,IAAI,SAAI,IAAI,CAAC,OAAS,CAAC;AAE3G;;;GAGG;AACU,QAAA,uBAAuB,GAAW,KAAK,CAAC;AAErD;;;GAGG;AACH,IAAY,SAMX;AAND,WAAY,SAAS;IACnB,oDAAuC,CAAA;IACvC,2CAA8B,CAAA;IAC9B,oDAAuC,CAAA;IACvC,gDAAmC,CAAA;IACnC,6CAAgC,CAAA;AAClC,CAAC,EANW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAMpB;AAED;;;;;;;;;;;;;;;;;GAiBG;AACH,IAAY,WAmBX;AAnBD,WAAY,WAAW;IACrB;;;;;;;;OAQG;IACH,gDAAiC,CAAA;IAEjC;;;;;OAKG;IACH,yCAA0B,CAAA;AAC5B,CAAC,EAnBW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAmBtB","sourcesContent":["import * as pack from '../package.json';\n\n/**\n * @private\n * Parameters passed to our audio encoder\n * buffer size, input channels, output channes\n */\nexport const ENCODER_PARAMS = [2048, 1, 1];\n\n/**\n * @private\n * Max number of packets to send to data channel for bitrate test\n */\nexport const MAX_NUMBER_PACKETS = 100;\n\n/**\n * @private\n * Minimum bitrate required to pass bitrate test\n * See https://www.twilio.com/docs/voice/client/javascript/voice-client-js-and-mobile-sdks-network-connectivity-requirements#network-bandwidth-requirements\n */\nexport const MIN_BITRATE_THRESHOLD = 100;\n\n/**\n * @private\n * Minimum bitrate samples required to emit warnings.\n * See [[WarningName.LowBitrate]]\n */\nexport const MIN_BITRATE_SAMPLE_COUNT = 5;\n\n/**\n * @private\n * Minimum number of failing bitrate values before emitting a warning.\n * See [[WarningName.LowBitrate]]\n */\nexport const MIN_BITRATE_FAIL_COUNT = 3;\n\n/**\n * @private\n * Data channel buffered amount\n */\nexport const BYTES_KEEP_BUFFERED = 1024 * MAX_NUMBER_PACKETS;\n\n/**\n * @private\n * Test packet used for bitrate test\n */\nexport const TEST_PACKET = Array(1024).fill('h').join('');\n\n/**\n * @private\n * We are unable to use the `.ogg` file here in Safari.\n */\nexport const INCOMING_SOUND_URL: string =\n  `https://sdk.twilio.com/js/client/sounds/releases/1.0.0/incoming.mp3?cache=${pack.name}+${pack.version}`;\n\n/**\n * @private\n * The number of milliseconds to wait to receive data in bitrate test before timing out.\n */\nexport const BITRATE_TEST_TIMEOUT_MS: number = 15000;\n\n/**\n * All of the expected error names to be thrown by the diagnostics tests.\n * These names are set in the error objects as the `.name` member.\n */\nexport enum ErrorName {\n  AlreadyStoppedError = 'already-stopped',\n  DiagnosticError = 'diagnostic',\n  InvalidOptionsError = 'invalid-options',\n  InvalidStateError = 'invalid-state',\n  UnsupportedError = 'unsupported',\n}\n\n/**\n * All of the expected warnings raised by the diagnostics tests.\n * A `warning-cleared` event is raised if there is an active warning\n * and if the criteria of the warning are no longer met.\n *\n * Example:\n *\n * ```ts\n * test.on(AudioInputTest.Events.Warning, (warningName: WarningName) => {\n *  console.log(`Warning detected: ${warningName}`);\n * });\n *\n * test.on(AudioInputTest.Events.WarningCleared, (warningName: WarningName) => {\n *  console.log(`Warning cleared: ${warningName}`);\n * });\n * ```\n *\n */\nexport enum WarningName {\n  /**\n   * Raised by the [[AudioInputTest]] when the volume events recorded are both low and constant.\n   * The criteria for raising this warning are:\n   * - If there are at least three seconds worth of audio samples.\n   * - The standard deviation of those samples is less than 1% of the max\n   *   possible volume value (255).\n   * - The average of those samples is less than 1% of the max possible volume\n   *   value (255).\n   */\n  LowAudioLevel = 'low-audio-level',\n\n  /**\n   * Raised by the [[MediaConnectionBitrateTest]] when the recorded bitrates are consistently lower than a certain threshold.\n   * The criteria for raising this warning are:\n   *  - At least 5 seconds worth of bitrate values have been recorded.\n   *  - 3 out of last 5 bitrate values are less than [[MediaConnectionBitrateTest.Options.minBitrateThreshold]].\n   */\n  LowBitrate = 'low-bitrate',\n}\n"]}